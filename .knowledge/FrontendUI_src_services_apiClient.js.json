{"is_source_file": true, "format": "JavaScript", "description": "This file defines an ApiClient class for handling API interactions in the ModelMapper Frontend application, including authentication, service mapping, device connection, and version control functions. It also exports a default instance configured with an unauthorized handler.", "external_files": ["fetch (built-in browser API)", "localStorage (browser API)", "window.dispatchEvent (browser API)", "src/mocks/browser.js (intercept fetch in test/demo mode)"], "external_methods": ["localStorage.getItem", "localStorage.removeItem", "window.dispatchEvent", "fetch"], "published": ["ApiClient", "apiClient"], "classes": [{"name": "ApiClient", "description": "Handles API requests including login, logout, service mapping, device connection, and version control with support for JWT auth and customizable base URL."}], "methods": [{"name": "constructor({ baseUrl, getToken, onUnauthorized } = {})", "description": "Initializes ApiClient with optional configuration for base URL, token retrieval, and unauthorized handler.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "request(path, { method = \"GET\", body, headers = {}, auth = true } = {})", "description": "Performs an HTTP request to the specified path with method, headers, body, and auth options.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "login({ username, password })", "description": "Sends login request with username and password, returning auth tokens.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "logout()", "description": "Logs out the current user by calling the logout endpoint.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "mapService({ serviceId, vendor, yangModel })", "description": "Associates a service with a YANG model.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "connectDevice({ deviceIp, vendor, credentials })", "description": "Connects to a device and retrieves YANG models.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "getVersionHistory({ deviceId })", "description": "Fetches version history for a device.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "versionControlAction({ deviceId, action, targetVersion })", "description": "Performs a version control operation like rollback or upgrade.", "scope": "ApiClient", "scopeKind": "class"}], "calls": ["fetch", "localStorage.getItem", "localStorage.removeItem", "window.dispatchEvent", "this.request"], "search-terms": ["ApiClient", "JWT auth", "map-service", "connect-device", "version-control", "FrontendUI"], "state": 2, "file_id": 13, "knowledge_revision": 86, "git_revision": "0306ec7a855204af11227965b1430872339bb3ba", "revision_history": [{"26": ""}, {"86": "0306ec7a855204af11227965b1430872339bb3ba"}], "ctags": [{"_type": "tag", "name": "ApiClient", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^export class ApiClient {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^      \"Content-Type\": \"application\\/json\",$/", "language": "JavaScript", "kind": "property", "scope": "ApiClient.request.requestHeaders", "scopeKind": "class"}, {"_type": "tag", "name": "apiClient", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^export const apiClient = defaultClient;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "connectDevice", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async connectDevice({ deviceIp, vendor, credentials }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ deviceIp, vendor, credentials })", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  constructor({ baseUrl, getToken, onUnauthorized } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "({ baseUrl, getToken, onUnauthorized } = {})", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "defaultClient", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^const defaultClient = new ApiClient({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getVersionHistory", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async getVersionHistory({ deviceId }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ deviceId })", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async login({ username, password }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ username, password })", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async logout() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "mapService", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async mapService({ serviceId, vendor, yangModel }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ serviceId, vendor, yangModel })", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async request(path, { method = \"GET\", body, headers = {}, auth = true } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(path, { method = \"GET\", body, headers = {}, auth = true } = {})", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "requestHeaders", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^    const requestHeaders = {$/", "language": "JavaScript", "kind": "class", "scope": "ApiClient.request", "scopeKind": "class"}, {"_type": "tag", "name": "versionControlAction", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async versionControlAction({ deviceId, action, targetVersion }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ deviceId, action, targetVersion })", "scope": "ApiClient", "scopeKind": "class"}], "hash": "a270fb045a23359c1eb9237b50686ae7", "format-version": 4, "code-base-name": "FrontendUI", "filename": "FrontendUI/src/services/apiClient.js", "fields": [{"name": "\"Content-Type\": \"application\\/json\",", "scope": "ApiClient.request.requestHeaders", "scopeKind": "class", "description": "unavailable"}]}