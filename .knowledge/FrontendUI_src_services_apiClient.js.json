{"is_source_file": true, "format": "JavaScript", "description": "This file defines an API client class 'ApiClient' for interacting with a backend server, handling authentication, service model management, device connection, version control, and related endpoints. It includes methods for login, logout, CRUD operations for service models, device mapping, and version control actions. The class encapsulates fetch-based HTTP requests with token management and error handling.", "external_files": ["src/mocks/browser.js"], "external_methods": ["fetch"], "published": ["apiClient"], "classes": [{"name": "ApiClient", "description": "A class that manages API communication, including JWT auth, request handling, and specific endpoint methods."}], "methods": [{"name": "constructor({ baseUrl, getToken, onUnauthorized } = {})", "description": "Initializes an ApiClient instance with optional configuration for base URL, token retrieval, and unauthorized handler.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "request(path, { method = \"GET\", body, headers = {}, auth = true } = {})", "description": "Internal method to perform HTTP requests with authentication, content handling, and error management.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "login({ username, password })", "description": "Performs login with username and password, returns auth token info.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "logout()", "description": "Performs logout, invalidates token on server side.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "mapService({ serviceId, vendor, yangModel })", "description": "Maps a service to a vendor's YANG model.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "connectDevice({ deviceIp, vendor, credentials })", "description": "Connects to a device to retrieve its YANG models.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "getVersionHistory({ deviceId })", "description": "Retrieves version history of a device model.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "versionControlAction({ deviceId, action, targetVersion })", "description": "Performs a version control action such as revert or promote.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "getServiceModel(id)", "description": "Retrieves a saved service model by its ID.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "saveServiceModel({ id, model, mappings })", "description": "Creates or updates a service model.", "scope": "ApiClient", "scopeKind": "class"}, {"name": "deleteServiceModel(id)", "description": "Deletes a service model by ID.", "scope": "ApiClient", "scopeKind": "class"}], "calls": ["this.request", "fetch"], "search-terms": ["ApiClient", "service-models", "JWT", "mapping", "version-control", "device connect"], "state": 2, "file_id": 13, "knowledge_revision": 108, "git_revision": "9db612bcfc239748c1698c1406c143a823b0e779", "revision_history": [{"26": ""}, {"86": "0306ec7a855204af11227965b1430872339bb3ba"}, {"96": "032aca148da47d03a4d832caa301da45d883eae6"}, {"105": "032aca148da47d03a4d832caa301da45d883eae6"}, {"108": "9db612bcfc239748c1698c1406c143a823b0e779"}], "ctags": [{"_type": "tag", "name": "ApiClient", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^export class ApiClient {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^      \"Content-Type\": \"application\\/json\",$/", "language": "JavaScript", "kind": "property", "scope": "ApiClient.request.requestHeaders", "scopeKind": "class"}, {"_type": "tag", "name": "apiClient", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^export const apiClient = defaultClient;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "connectDevice", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async connectDevice({ deviceIp, vendor, credentials }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ deviceIp, vendor, credentials })", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  constructor({ baseUrl, getToken, onUnauthorized } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "({ baseUrl, getToken, onUnauthorized } = {})", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "defaultClient", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^const defaultClient = new ApiClient({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "deleteServiceModel", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async deleteServiceModel(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "getServiceModel", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async getServiceModel(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "getVersionHistory", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async getVersionHistory({ deviceId }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ deviceId })", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async login({ username, password }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ username, password })", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async logout() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "mapService", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async mapService({ serviceId, vendor, yangModel }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ serviceId, vendor, yangModel })", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "model", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^    const body = { model, mappings };$/", "language": "JavaScript", "kind": "field", "scope": "ApiClient.saveServiceModel.body", "scopeKind": "class"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async request(path, { method = \"GET\", body, headers = {}, auth = true } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(path, { method = \"GET\", body, headers = {}, auth = true } = {})", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "requestHeaders", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^    const requestHeaders = {$/", "language": "JavaScript", "kind": "class", "scope": "ApiClient.request", "scopeKind": "class"}, {"_type": "tag", "name": "saveServiceModel", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async saveServiceModel({ id, model, mappings }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ id, model, mappings })", "scope": "ApiClient", "scopeKind": "class"}, {"_type": "tag", "name": "versionControlAction", "path": "/home/kavia/workspace/code-generation/modelmapper-1410-1464/FrontendUI/src/services/apiClient.js", "pattern": "/^  async versionControlAction({ deviceId, action, targetVersion }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ deviceId, action, targetVersion })", "scope": "ApiClient", "scopeKind": "class"}], "hash": "674dd16f103dc413fa3e0a4f4fc825b8", "format-version": 4, "code-base-name": "FrontendUI", "filename": "FrontendUI/src/services/apiClient.js", "fields": [{"name": "\"Content-Type\": \"application\\/json\",", "scope": "ApiClient.request.requestHeaders", "scopeKind": "class", "description": "unavailable"}, {"name": "const body = { model, mappings };", "scope": "ApiClient.saveServiceModel.body", "scopeKind": "class", "description": "unavailable"}]}